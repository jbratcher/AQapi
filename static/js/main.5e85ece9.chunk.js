(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,a){e.exports=a(53)},50:function(e,t,a){},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),i=a.n(c),o=a(10),u=a(2),s=a(3),l=a(5),d=a(4),m=a(6),p=a(54),h=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement("section",{id:"mainHeader"},r.a.createElement("section",{id:"brand"},r.a.createElement(p.a,{to:"/"},r.a.createElement("h1",null,"ShouldIRun?"))),r.a.createElement("a",{href:"#mainHeaderNav",id:"menu-toggle",className:"toggle"},r.a.createElement("i",{className:"fa fa-bars fa-2x","aria-hidden":"true"})),r.a.createElement("nav",{id:"mainHeaderNav"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{id:"nav-close",className:"toggle",href:"#top"},r.a.createElement("i",{className:"fa fa-times fa-2x"}))),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/scheduler"},"Scheduler")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/bestday"},"Best Day")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/forcast"},"7 Day Forcast")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/about"},"About"))))),r.a.createElement("section",{id:"subheader"},r.a.createElement("p",null,"Get a rating on current weather conditions for your run")))}}]),t}(n.Component),y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleScaleChange,a=e.handleWarmthPrefChange,n=e.userTempScale,c=e.userWarmthPreference;return r.a.createElement("section",{id:"userOptions"},r.a.createElement("section",{className:"column"},r.a.createElement("h3",null,"Options"),r.a.createElement("label",null,"Temperature scale"),r.a.createElement("select",{id:"userTempScale",value:n,onChange:t},r.a.createElement("option",{value:"f"},"Fahrenheit"),r.a.createElement("option",{value:"c"},"Celcius"),r.a.createElement("option",{value:"k"},"Kelvin"))),r.a.createElement("section",{className:"column"},r.a.createElement("label",null,"Warmth Preference"),r.a.createElement("select",{id:"userWarmthPreference",value:c,onChange:a},r.a.createElement("option",{value:"hot"},"Mucher Cooler"),r.a.createElement("option",{value:"warm"},"A Little Cooler"),r.a.createElement("option",{value:"neutral"},"Neutral"),r.a.createElement("option",{value:"chilly"},"A Little Warmer"),r.a.createElement("option",{value:"cold"},"Much Warmer"))))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cityList,a=e.cityInput,n=e.countryInput,c=e.countryList,i=e.getData,o=e.handleCityInput,u=e.handleCountryInput,s=e.handleStateInput,l=e.getLocationData,d=e.stateInput,m=e.stateList;return r.a.createElement("section",{id:"formInput"},r.a.createElement("h3",null,"Location"),r.a.createElement("button",{id:"getLocation",onClick:l},"Use my location"),r.a.createElement("p",null,"-- ",r.a.createElement("b",null,"OR")," --"),r.a.createElement("section",{className:"column"},r.a.createElement("label",{id:"formLabel"},"Enter a Location"),r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"country"},"Country"),r.a.createElement("select",{value:n,onChange:u},c.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("label",{htmlFor:"state"},"State"),r.a.createElement("select",{value:d,onChange:s},m.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("label",{htmlFor:"city"},"City"),r.a.createElement("select",{value:a,onChange:o},t.map(function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),r.a.createElement("button",{onClick:i,type:"submit",value:"submit",name:"submit"},"Get Data"))))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.cityInput,a=e.cityList,n=e.countryInput,c=e.countryList,i=e.handleCityInput,o=e.handleCountryInput,u=e.handleStateInput,s=e.handleScaleChange,l=e.handleWarmthPrefChange,d=e.getData,m=e.getLocationData,p=e.stateInput,h=e.stateList,g=e.userTempScale,S=e.userWarmthPreference;return r.a.createElement("section",{id:"formInputSection"},r.a.createElement(y,{handleScaleChange:s,handleWarmthPrefChange:l,userTempScale:g,userWarmthPreference:S}),r.a.createElement(f,{cityInput:t,cityList:a,countryInput:n,countryList:c,handleCountryInput:o,handleStateInput:u,handleCityInput:i,getData:d,getLocationData:m,stateInput:p,stateList:h}))}}]),t}(n.Component),S={cold:{head:{text:"Beanie",imgsrc:"https://hips.hearstapps.com/vader-prod.s3.amazonaws.com/1533851320-everlane-1533851313.jpg"},torso:{text:"Long-sleeve athletic shirt",imgsrc:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQqcsbsQ30ATXDyrEMidoBC4PGQvzDGqlXyehQLyjqHiTJOzxFu"},legs:{text:"Insulated track pants",imgsrc:"https://www.patagonia.com/dis/dw/image/v2/ABBM_PRD/on/demandware.static/-/Sites-patagonia-master/default/dw6af579dc/images/hi-res/24102_BLK.jpg?sw=300&sh=300&sfrm=png"},feet:{text:"Insulated socks",imgsrc:"https://www.verywellfit.com/thmb/Wox_s1mhrS095uy3_IQCjjcK1Pw=/1001x1001/filters:no_upscale()/darntoughvermontsocks-56a83a963df78cf7729d2a76.jpg"}},chilly:{head:{text:"Baseball cap",imgsrc:"https://images-na.ssl-images-amazon.com/images/I/81vqBRNIuKL._UX522_.jpg"},torso:{text:"Short-sleeve athletic t-shirt",imgsrc:"https://alltopguide.com/wp-content/uploads/2016/08/B01AQR03N0.jpg"},legs:{text:"Athletic shorts",imgsrc:"https://www.patagonia.com/dis/dw/image/v2/ABBM_PRD/on/demandware.static/-/Sites-patagonia-master/default/dwbe64c536/images/hi-res/24632_BLK.jpg?sw=750&sh=750&sm=fit&sfrm=png"},feet:{text:"Insulated socks",imgsrc:"https://www.verywellfit.com/thmb/Wox_s1mhrS095uy3_IQCjjcK1Pw=/1001x1001/filters:no_upscale()/darntoughvermontsocks-56a83a963df78cf7729d2a76.jpg"}},neutral:{head:{text:"",imgsrc:""},torso:{text:"Short-sleeve athletic t-shirt",imgsrc:"https://alltopguide.com/wp-content/uploads/2016/08/B01AQR03N0.jpg"},legs:{text:"Athletic shorts",imgsrc:"https://www.patagonia.com/dis/dw/image/v2/ABBM_PRD/on/demandware.static/-/Sites-patagonia-master/default/dwbe64c536/images/hi-res/24632_BLK.jpg?sw=750&sh=750&sm=fit&sfrm=png"},feet:{text:"Padded socks",imgsrc:"https://images-na.ssl-images-amazon.com/images/I/91KJNYH1pVL._SX355_.jpg"}},warm:{head:{text:"",imgsrc:""},torso:{text:"Tank top",imgsrc:"http://d3d71ba2asa5oz.cloudfront.net/62001083/images/jn305-royalwhite.jpg"},legs:{text:"Athletic shorts",imgsrc:"https://www.patagonia.com/dis/dw/image/v2/ABBM_PRD/on/demandware.static/-/Sites-patagonia-master/default/dwbe64c536/images/hi-res/24632_BLK.jpg?sw=750&sh=750&sm=fit&sfrm=png"},feet:{text:"Padded socks",imgsrc:"https://images-na.ssl-images-amazon.com/images/I/91KJNYH1pVL._SX355_.jpg"}},hot:{head:{text:"",imgsrc:""},torso:{text:"Tank top",imgsrc:"http://d3d71ba2asa5oz.cloudfront.net/62001083/images/jn305-royalwhite.jpg"},legs:{text:"Athletic shorts",imgsrc:"https://www.patagonia.com/dis/dw/image/v2/ABBM_PRD/on/demandware.static/-/Sites-patagonia-master/default/dwbe64c536/images/hi-res/24632_BLK.jpg?sw=750&sh=750&sm=fit&sfrm=png"},feet:{text:"Padded socks",imgsrc:"https://images-na.ssl-images-amazon.com/images/I/91KJNYH1pVL._SX355_.jpg"}}},D=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).getCurrentTempIndex=function(){var e=a.props.currentTemp;e>=85?a.setState({currentTempIndex:"hot"}):e<85&&e>=75?a.setState({currentTempIndex:"warm"}):e<75&&e>=65?a.setState({currentTempIndex:"neutral"}):e<55&&e>=45?a.setState({currentTempIndex:"chilly"}):e<45?a.setState({currentTempIndex:"cold"}):a.setState({currentTempIndex:a.state.currentTempIndex})},a.calculateWarmthPrefernce=function(){var e=a.props.userWarmthPreference;"cold"===e?a.setState({currentTempIndex:"cold"}):"chilly"===e?a.setState({currentTempIndex:"chilly"}):"warm"===e?a.setState({currentTempIndex:"warm"}):"hot"===e?a.setState({currentTempIndex:"hot"}):a.getCurrentTempIndex(),a.setState({tempIndexCalculated:!0})},a.state={currentTempIndex:"",tempIndexCalculated:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.getCurrentTempIndex(),this.calculateWarmthPrefernce()}},{key:"render",value:function(){var e=this.state,t=e.currentTempIndex,a=e.tempIndexCalculated;return r.a.createElement("section",{id:"clothesData"},r.a.createElement("p",null,"What to wear"),r.a.createElement("nav",null,a?r.a.createElement("ul",{id:"clothing"},S[t].head.text?r.a.createElement("li",{id:"head"},r.a.createElement("img",{alt:"head",src:S[t].head.imgsrc}),r.a.createElement("p",null,S[t].head.text)):null,r.a.createElement("li",{id:"torso"},r.a.createElement("img",{alt:"torso",src:S[t].torso.imgsrc}),r.a.createElement("p",null,S[t].torso.text)),r.a.createElement("li",{id:"legs"},r.a.createElement("img",{alt:"legs",src:S[t].legs.imgsrc}),r.a.createElement("p",null,S[t].legs.text)),r.a.createElement("li",{id:"feet"},r.a.createElement("img",{alt:"feet",src:S[t].feet.imgsrc}),r.a.createElement("p",null,S[t].feet.text))):null))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.airQuality,a=e.bestDay,n=e.currentHumidity,c=e.currentTemp,i=e.currentUV,o=e.currentWeatherIcon,u=e.currentWeatherSummary,s=e.data,l=e.forcastDayName,d=e.mainPollutant,m=e.selectedDayName,p=e.userTempScale,h=e.weatherScore,y=p.toUpperCase(),f="".concat(parseInt("f"===p?c:"c"===p?5/9*(c-32):"k"===p?5/9*(c-32)+273.15:"",10)," \xb0 ").concat(y),g=h.toFixed(1),S=parseInt(100*n,10),D="partly-cloudy-day"===o?"wi wi-day-sunny-overcast":"wind"===o?"wi wi-day-windy":"sunny"===o||"clear-day"===o?"wi wi-day-sunny":"clear-night"===o?"wi wi-night-clear":"partly-cloudy-night"===o?"wi wi-night-partly-cloudy":"cloudy"===o?"wi wi-cloudy":"rain"===o?"wi wi-rain":"snow"===o?"wi wi-snow":"sleet"===o?"wi wi-sleet":"fog"===o?"wi wi-fog":null,v=g>=7.5?"Good":g>=5&&g<7.5?"Average":g>=2.5&&g<5?"Poor":g>=0&&g<2.5?"Miserable":null,b="Good"===v?"green":"Average"===v?"blue":"Poor"===v?"yellow":"Miserable"===v?"red":null;return r.a.createElement("section",{id:"scoreData"},r.a.createElement("span",{id:"day"},a||m||l),r.a.createElement("i",{id:"weatherIcon",className:D}),r.a.createElement("span",{id:"weatherSummary"},u),r.a.createElement("span",{id:"weatherScore",className:b},g,r.a.createElement("span",{id:"weatherScoreRating"},"(",v,")")),r.a.createElement("span",{id:"currentUV"},"UV Index: ",i),r.a.createElement("span",{id:"currentHumidity"},S,"% hum."),t?r.a.createElement("span",{id:"airQuality"},t,r.a.createElement("span",{id:"mainParticulate"},"(",d,")")):null,r.a.createElement("span",{id:"temperature"},f),s?r.a.createElement("p",{id:"locationOutput"},r.a.createElement("span",{id:"cityOutput"},s.city),r.a.createElement("span",{id:"stateOutput"},s.state),r.a.createElement("span",{id:"countryOutput"},s.country)):null)}}]),t}(n.Component),b=a(15),E="da93f02b-a189-49e0-ab57-af4745f1d319",I="7caf9128d134c8a87482de7629abebdf",w="AIzaSyAGNAWHYmzPtl9h2vVMmLBhlD5o3Et1NCw",T=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentLat,a=e.currentLng;this.setState({currentLocation:{lat:t,lng:a}})}},{key:"render",value:function(){var e=this.props,t=e.currentLat,a=e.currentLng,n=e.loaded;return r.a.createElement("section",{id:"map"},n?r.a.createElement(b.Map,{center:{lat:t,lng:a},initialCenter:{lat:38.2527,lng:-85.7585},google:this.props.google,zoom:12},r.a.createElement(b.Marker,{position:{lat:t,lng:a}})):null)}}]),t}(n.Component),L=Object(b.GoogleApiWrapper)(function(e){return{apiKey:w}})(T),j=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.airQuality,a=e.currentHumidity,n=e.currentLat,c=e.currentLng,i=e.currentTemp,o=e.currentUV,u=e.currentWeatherIcon,s=e.currentWeatherSummary,l=e.data,d=e.dataReceived,m=e.dataRequested,p=e.mainPollutant,h=e.userTempScale,y=e.userWarmthPreference,f=e.weatherScore;return r.a.createElement("section",{id:"outputContainer"},r.a.createElement("section",{id:"dataOutput"},m?r.a.createElement("h5",null,"Loading"):d?r.a.createElement(D,{currentTemp:i,userWarmthPreference:y}):null,m?r.a.createElement("h5",null,"Loading"):d?r.a.createElement(v,{airQuality:t,currentHumidity:a,currentTemp:i,currentUV:o,currentWeatherIcon:u,currentWeatherSummary:s,data:l,mainPollutant:p,userTempScale:h,weatherScore:f}):null),m?r.a.createElement("h5",null,"Loading"):d?r.a.createElement(L,{currentLat:n,currentLng:c}):null)}}]),t}(n.Component),W=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.airQuality,a=e.cityInput,n=e.cityList,c=e.countryInput,i=e.countryList,o=e.currentHumidity,u=e.currentLat,s=e.currentLng,l=e.currentTemp,d=e.currentUV,m=e.currentWeatherIcon,p=e.currentWeatherSummary,h=e.data,y=e.dataReceived,f=e.dataRequested,S=e.handleCityInput,D=e.handleCountryInput,v=e.handleStateInput,b=e.handleScaleChange,E=e.handleWarmthPrefChange,I=e.getData,w=e.getLocationData,T=e.mainPollutant,L=e.stateInput,W=e.stateList,P=e.userTempScale,C=e.userWarmthPreference,k=e.weatherScore;return r.a.createElement("main",{id:"main"},r.a.createElement("section",{id:"formSection"},r.a.createElement("section",{id:"mainNav"},r.a.createElement("a",{href:"#formSection"},r.a.createElement("i",{className:"fas fa-angle-double-right fa-2x",id:"openNav"})),r.a.createElement("a",{href:"#top"},r.a.createElement("i",{className:"fas fa-angle-double-left fa-2x",id:"closeNav"}))),r.a.createElement(g,{cityInput:a,cityList:n,countryInput:c,countryList:i,handleCityInput:S,handleCountryInput:D,handleScaleChange:b,handleStateInput:v,handleWarmthPrefChange:E,getData:I,getLocationData:w,stateInput:L,stateList:W,userTempScale:P,userWarmthPreference:C})),r.a.createElement(j,{airQuality:t,currentHumidity:o,currentLat:u,currentLng:s,currentTemp:l,currentUV:d,currentWeatherIcon:m,currentWeatherSummary:p,data:h,dataReceived:y,dataRequested:f,mainPollutant:T,userTempScale:P,userWarmthPreference:C,weatherScore:k}))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("span",null,r.a.createElement("a",{href:"https://darksky.net/poweredby/"},"Powered by Dark Sky")),r.a.createElement("span",null,"2018"),r.a.createElement("span",null,r.a.createElement("a",{href:"#top"},"Github")))}}]),t}(n.Component),C=(a(50),a(51),function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(l.a)(this,Object(d.a)(t).call(this))).calculateWeatherScore=function(){var t=e.state,a=t.currentHumidity,n=t.currentPrecipProbability,r=t.currentTemp,c=t.currentUV,i=10*a,o=(e.tempScale-Math.abs(e.medianTemp-r)/e.stdDevTemp+(e.uvScale-c)+i+(e.rainScale-10*n))/4;e.setState({weatherScore:o,dataRequested:!1,dataReceived:!0})},e.fetchCurrentConditions=function(){var t=e.state,a=t.currentLat,n=t.currentLng;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(a,",").concat(n)).then(function(e){return e.json()}).then(function(t){console.log("Fetch Current Conditions: ",t),e.setState({currentHumidity:t.currently.humidity,currentPrecipProbability:t.currently.precipProbability,currentTemp:t.currently.apparentTemperature,currentUV:t.currently.uvIndex,currentWeatherIcon:t.currently.icon,currentWeatherSummary:t.currently.summary}),e.calculateWeatherScore()}).catch(function(e){return console.log("fetchCurrentConditions in App component",e)})},e.fetchCityList=function(t){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/cities?state=".concat(t.target.value,"&country=").concat(e.state.countryInput,"&key=").concat(E)).then(function(e){return e.json()}).then(function(t){return t.data.map(function(t){return e.setState({cityList:[].concat(Object(o.a)(e.state.cityList),[t.city]),cityInput:e.state.cityList[0]})})}).catch(function(e){return console.log("Fetch city list in App component",e)})},e.fetchDefaultCityList=function(t,a){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/cities?state=".concat(t,"&country=").concat(a,"&key=").concat(E)).then(function(e){return e.json()}).then(function(t){return t.data.map(function(t){return e.setState({cityList:[].concat(Object(o.a)(e.state.cityList),[t.city]),cityInput:"Louisville"})})}).catch(function(e){return console.log("Fetch city list in App component",e)})},e.fetchStateList=function(t){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/states?country=".concat(t.target.value,"&key=").concat(E)).then(function(e){return e.json()}).then(function(t){return t.data.map(function(t){return e.setState({stateList:[].concat(Object(o.a)(e.state.stateList),[t.state])})})}).catch(function(e){return console.log("Fetch state list in App component",e)})},e.fetchDefaultStateList=function(t){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/states?country=".concat(t,"&key=").concat(E)).then(function(e){return e.json()}).then(function(t){return t.data.map(function(t){return e.setState({stateList:[].concat(Object(o.a)(e.state.stateList),[t.state]),stateInput:"Kentucky"})})}).catch(function(e){return console.log("Fetch state list in App component",e)})},e.fetchCountryList=function(){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/countries?key=".concat(E)).then(function(e){return e.json()}).then(function(t){return t.data.map(function(t){return e.setState({countryList:[].concat(Object(o.a)(e.state.countryList),[t.country])})})}).catch(function(e){return console.log("Fetch country list in App component",e)})},e.fetchLocation=function(){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/nearest_city?key=".concat(E)).then(function(e){return e.json()}).then(function(t){e.setState({airQuality:t.data.current.pollution.aqius,cityInput:t.data.city,countryInput:t.data.country,currentLat:t.data.location.coordinates[1],currentLng:t.data.location.coordinates[0],data:t.data,dataRequested:!0,mainPollutant:t.data.current.pollution.mainus,stateInput:t.data.state}),e.fetchCurrentConditions()}).catch(function(e){return console.log("fetchLocation in App component",e)})},e.fetchStd=function(){fetch("https://calm-refuge-25215.herokuapp.com/https://api.airvisual.com/v2/city?city=".concat(e.state.cityInput,"&state=").concat(e.state.stateInput,"&country=").concat(e.state.countryInput,"&key=").concat(E)).then(function(e){return e.json()}).then(function(t){e.setState({currentLat:t.data.location.coordinates[1],currentLng:t.data.location.coordinates[0],dataRequested:!0,data:t.data,airQuality:t.data.current.pollution.aqius,mainPollutant:t.data.current.pollution.mainus}),e.fetchCurrentConditions()}).catch(function(e){return console.log("fetchStd in App component",e)})},e.getData=function(t){t.preventDefault(),e.setState({cityInput:e.state.cityInput,stateinput:e.state.stateInput,countryInput:e.state.countryInput}),e.fetchStd()},e.getLocationData=function(t){t.preventDefault(),e.fetchLocation()},e.handleCityInput=function(t){t.preventDefault(),e.setState({cityInput:t.target.value})},e.loadDefaultCountry=function(){e.setState({countryInput:"USA"}),e.fetchDefaultStateList("USA"),e.loadDefaultState()},e.loadDefaultState=function(){e.setState({stateInput:"Kentucky"}),e.fetchDefaultCityList("Kentucky","USA"),e.loadDefaultCity()},e.loadDefaultCity=function(){e.setState({cityInput:"Louisville"})},e.handleCountryInput=function(t){t.preventDefault(),e.setState({countryInput:t.target.value,cityInput:"",cityList:[],stateInput:"",stateList:[]}),e.fetchStateList(t)},e.handleStateInput=function(t){t.preventDefault(),e.setState({stateInput:t.target.value,cityInput:"",cityList:[]}),e.fetchCityList(t)},e.handleScaleChange=function(t){e.setState({userTempScale:t.target.value})},e.handleWarmthPrefChange=function(t){e.setState({userWarmthPreference:t.target.value})},e.medianTemp=55,e.stdDevTemp=5,e.tempScale=10,e.uvScale=10,e.rainScale=10,e.state={airQuality:0,cityInput:"Louisville",cityList:[],countryInput:"USA",countryList:[],currentWeatherIcon:"wi wi-sunny-day",currentLat:38.2527,currentLng:-85.7585,currentHumidity:0,currentPrecipProbability:0,currentTemp:0,currentUV:0,data:{},dataReceived:!1,dataRequested:!1,mainPollutant:"",stateInput:"Kentucky",stateList:[],userTempScale:"f",userWarmthPreference:"neutral",weatherScore:0},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.fetchCountryList(),this.loadDefaultCountry(),console.log("App component mounted state:",this.state)}},{key:"render",value:function(){var e=this.state,t=e.airQuality,a=e.cityInput,n=e.cityList,c=e.countryInput,i=e.countryList,o=e.currentHumidity,u=e.currentLat,s=e.currentLng,l=e.currentTemp,d=e.currentUV,m=e.currentWeatherIcon,p=e.currentWeatherSummary,y=e.data,f=e.dataReceived,g=e.dataRequested,S=e.mainPollutant,D=e.stateInput,v=e.stateList,b=e.userTempScale,E=e.userWarmthPreference,I=e.weatherScore;return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(W,{airQuality:t,cityInput:a,cityList:n,countryInput:c,countryList:i,currentHumidity:o,currentLat:u,currentLng:s,currentTemp:l,currentUV:d,currentWeatherIcon:m,currentWeatherSummary:p,data:y,dataReceived:f,dataRequested:g,getData:this.getData,getLocationData:this.getLocationData,handleCityInput:this.handleCityInput,handleCountryInput:this.handleCountryInput,handleStateInput:this.handleStateInput,handleScaleChange:this.handleScaleChange,handleWarmthPrefChange:this.handleWarmthPrefChange,mainPollutant:S,stateInput:D,stateList:v,userTempScale:b,userWarmthPreference:E,weatherScore:I}),r.a.createElement(P,null))}}]),t}(n.Component)),k=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).calculateWeatherScore=function(){var e=a.state,t=e.selectedDayHumidity,n=e.selectedDayPrecipProbability,r=e.selectedDayTempHigh,c=e.selectedDayTempLow,i=e.selectedDayUV,o=10*t,u=(r+c)/2,s=(a.tempScale-Math.abs(a.medianTemp-u)/a.stdDevTemp+(a.uvScale-i)+o+(a.rainScale-10*n))/4;a.setState({selectedDayWeatherScore:s,selectedDayAveragedTemp:u})},a.calcuateWeatherScoresByDay=function(){for(var e=a.state,t=e.forcastHumidity,n=e.forcastPrecipProbability,r=e.forcastTempHigh,c=e.forcastTempLow,i=e.forcastUV,o=[],u=0;u<=7;u++){var s=10*t[u],l=(r[u]+c[u])/2,d=(a.tempScale-Math.abs(a.medianTemp-l)/a.stdDevTemp+(a.uvScale-i[u])+s+(a.rainScale-10*n[u]))/4;o.push(d)}a.setState({forcastWeatherScores:o})},a.fetchForcast=function(){var e=a.state,t=e.currentLat,n=e.currentLng;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(t,",").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({forcastHumidity:e.daily.data.map(function(e){return e.humidity}),forcastPrecipProbability:e.daily.data.map(function(e){return e.precipProbability}),forcastTempHigh:e.daily.data.map(function(e){return e.apparentTemperatureHigh}),forcastTempLow:e.daily.data.map(function(e){return e.apparentTemperatureLow}),forcastUV:e.daily.data.map(function(e){return e.uvIndex}),forcastIsRaning:e.daily.data.map(function(e){return e.precipProbability}),forcastTime:e.daily.data.map(function(e){return e.sunriseTime}),forcastWeatherIcon:e.daily.data.map(function(e){return e.icon}),forcastWeatherSummary:e.daily.data.map(function(e){return e.summary})}),a.calcuateWeatherScoresByDay()}).catch(function(e){return console.log("fetchForcast error in Scheduler: ".concat(e))})},a.fetchForcastBySelectedDay=function(){var e=a.state,t=e.currentLat,n=e.currentLng,r=e.selectedDayIndex;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(t,",").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({selectedDayHumidity:e.daily.data[r].humidity,selectedDayPrecipProbability:e.daily.data[r].precipProbability,selectedDayTempHigh:e.daily.data[r].apparentTemperatureHigh,selectedDayTempLow:e.daily.data[r].apparentTemperatureLow,selectedDayUV:e.daily.data[r].uvIndex,selectedDayIsRaning:e.daily.data[r].precipProbability,selectedDayWeatherIcon:e.daily.data[r].icon,selectedDayWeatherSummary:e.daily.data[r].summary,isDaySelected:!0}),a.calculateWeatherScore()}).catch(function(e){return console.log("fetchForcastBySelectedDay error in Scheduler: ".concat(e))})},a.handleDayChange=function(e){e.preventDefault();var t="Sunday"===e.target.value?0:"Monday"===e.target.value?1:"Tuesday"===e.target.value?2:"Wednesday"===e.target.value?3:"Thursday"===e.target.value?4:"Friday"===e.target.value?5:"Saturday"===e.target.value?6:null;a.setState({selectedDayName:e.target.value,selectedDayIndex:t}),a.getDeltaSelectedDay()},a.getDeltaSelectedDay=function(){var e=a.state,t=e.selectedDayIndex,n=e.currentDayIndex;a.setState({deltaSelectedDay:n<t?t-n:n>t?7-(n-t):n===t?0:null},a.fetchForcastBySelectedDay())},a.d=new Date,a.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.medianTemp=55,a.stdDevTemp=5,a.tempScale=10,a.uvScale=10,a.rainScale=10,a.state={currentDayName:a.days[a.d.getDay()],currentDayIndex:a.d.getDay(),selectedDayName:a.days[a.d.getDay()],selectedDayIndex:0,deltaSelectedDay:0,currentLat:38.2527,currentLng:-85.7585,forcastHumidity:[],forcastTempHigh:[],forcastTempLow:[],forcastTime:[],forcastUV:[],forcastPrecipProbability:[],forcastWeatherScores:[],forcastWeatherIcon:"wi wi-na",forcastWeatherSummary:"",isDaySelected:!1,selectedDayAQ:0,selectedDayHumidity:0,selectedDayIsRaning:0,selectedDayTempHigh:0,selectedDayTempLow:0,selectedDayAveragedTemp:0,selectedDayUV:0,selectedDayWeatherSummary:"",selectedDayData:!1,selectedDayMainPollutant:"",selectedDayUserTempScale:"f",selectedDayWeatherIcon:"wi wi-na",selectedDayWeatherScore:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("Scheduler component mount state: ",this.state)}},{key:"render",value:function(){var e=this.state,t=e.isDaySelected,a=e.selectedDayName,n=e.selectedDayAQ,c=e.selectedDayHumidity,i=e.selectedDayAveragedTemp,o=e.selectedDayUV,u=e.selectedDayWeatherIcon,s=e.selectedDayWeatherSummary,l=e.selectedDayData,d=e.selectedDayMainPollutant,m=e.selectedDayUserTempScale,p=e.selectedDayWeatherScore;return r.a.createElement("section",{id:"schedulerSection"},r.a.createElement(h,null),r.a.createElement("section",{id:"scheduler",className:"column"},r.a.createElement("h2",null,"Scheduler"),r.a.createElement("p",null,"Pick a day to get information or find the best day in the next week"),r.a.createElement("label",null,"Pick a day of the week"),r.a.createElement("select",{value:a,onChange:this.handleDayChange},r.a.createElement("option",{value:"Sunday"},"Sunday"),r.a.createElement("option",{value:"Monday"},"Monday"),r.a.createElement("option",{value:"Tuesday"},"Tuesday"),r.a.createElement("option",{value:"Wednesday"},"Wednesday"),r.a.createElement("option",{value:"Thursday"},"Thursday"),r.a.createElement("option",{value:"Friday"},"Friday"),r.a.createElement("option",{value:"Saturday"},"Saturday")),t?r.a.createElement(v,{airQuality:n,currentHumidity:c,currentTemp:i,currentUV:o,currentWeatherIcon:u,currentWeatherSummary:s,data:l,mainPollutant:d,selectedDayName:a,userTempScale:m,weatherScore:p}):null),r.a.createElement(P,null))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).calculateWeatherScore=function(){var e=a.state,t=e.selectedDayHumidity,n=e.selectedDayPrecipProbability,r=e.selectedDayTempHigh,c=e.selectedDayTempLow,i=e.selectedDayUV,o=10*t,u=(r+c)/2,s=(a.tempScale-Math.abs(a.medianTemp-u)/a.stdDevTemp+(a.uvScale-i)+o+(a.rainScale-10*n))/4;a.setState({selectedDayWeatherScore:s,selectedDayAveragedTemp:u})},a.findBestDayToRun=function(){var e=a.state,t=e.forcastTime,n=e.forcastWeatherScores,r=n.indexOf(Math.max.apply(Math,Object(o.a)(n))),c=new Date(1e3*t[r]),i=new Date(c).getDay(),u=0===i?"Sunday":1===i?"Monday":2===i?"Tuesday":3===i?"Wednesday":4===i?"Thursday":5===i?"Friday":6===i?"Saturday":null;a.setState({bestDay:u,bestDayIndex:i,bestDayFound:!0}),a.getDeltaBestDay(),a.fetchForcastBySelectedDay()},a.calcuateWeatherScoresByDay=function(){for(var e=a.state,t=e.forcastHumidity,n=e.forcastPrecipProbability,r=e.forcastTempHigh,c=e.forcastTempLow,i=e.forcastUV,o=[],u=0;u<=7;u++){var s=10*t[u],l=(r[u]+c[u])/2,d=(a.tempScale-Math.abs(a.medianTemp-l)/a.stdDevTemp+(a.uvScale-i[u])+s+(a.rainScale-10*n[u]))/4;o.push(d)}a.setState({forcastWeatherScores:o}),a.findBestDayToRun()},a.fetchForcast=function(){var e=a.state,t=e.currentLat,n=e.currentLng;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(t,",").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({forcastHumidity:e.daily.data.map(function(e){return e.humidity}),forcastPrecipProbability:e.daily.data.map(function(e){return e.precipProbability}),forcastTempHigh:e.daily.data.map(function(e){return e.apparentTemperatureHigh}),forcastTempLow:e.daily.data.map(function(e){return e.apparentTemperatureLow}),forcastUV:e.daily.data.map(function(e){return e.uvIndex}),forcastIsRaning:e.daily.data.map(function(e){return e.precipProbability}),forcastTime:e.daily.data.map(function(e){return e.sunriseTime}),forcastWeatherIcon:e.daily.data.map(function(e){return e.icon}),forcastWeatherSummary:e.daily.data.map(function(e){return e.summary})}),a.calcuateWeatherScoresByDay()}).catch(function(e){return console.log("fetchForcas error in Best Day: ".concat(e))})},a.fetchForcastBySelectedDay=function(){var e=a.state,t=e.currentLat,n=e.currentLng,r=e.selectedDayIndex;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(t,",").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({selectedDayHumidity:e.daily.data[r].humidity,selectedDayPrecipProbability:e.daily.data[r].precipProbability,selectedDayTempHigh:e.daily.data[r].apparentTemperatureHigh,selectedDayTempLow:e.daily.data[r].apparentTemperatureLow,selectedDayUV:e.daily.data[r].uvIndex,selectedDayIsRaning:e.daily.data[r].precipProbability,selectedDayWeatherIcon:e.daily.data[r].icon,selectedDayWeatherSummary:e.daily.data[r].summary}),a.calculateWeatherScore()}).catch(function(e){return console.log("fetchForcastBySelectedDay error in Best Day: ".concat(e))})},a.getDeltaBestDay=function(){var e=a.state,t=e.bestDayIndex-e.currentDayIndex;a.setState({selectedDayIndex:t})},a.d=new Date,a.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a.medianTemp=55,a.stdDevTemp=5,a.tempScale=10,a.uvScale=10,a.rainScale=10,a.state={bestDay:null,bestDayIndex:null,bestDayFound:!1,currentDayName:a.days[a.d.getDay()],currentDayIndex:a.d.getDay(),selectedDayIndex:null,deltaSelectedDay:null,currentLat:38.2527,currentLng:-85.7585,forcastHumidity:[],forcastTempHigh:[],forcastTempLow:[],forcastTime:[],forcastUV:[],forcastPrecipProbability:[],forcastWeatherScores:[],forcastWeatherIcon:"wi wi-na",forcastWeatherSummary:"",isDaySelected:!1,selectedDayAQ:0,selectedDayHumidity:0,selectedDayIsRaning:0,selectedDayTempHigh:0,selectedDayTempLow:0,selectedDayAveragedTemp:0,selectedDayUV:0,selectedDayWeatherSummary:"",selectedDayData:!1,selectedDayMainPollutant:"",selectedDayUserTempScale:"f",selectedDayWeatherIcon:"wi wi-na",selectedDayWeatherScore:0},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log("Best Day mounted state: ",this.state)}},{key:"render",value:function(){var e=this.state,t=e.bestDay,a=e.bestDayFound,n=e.selectedDayAQ,c=e.selectedDayHumidity,i=e.selectedDayAveragedTemp,o=e.selectedDayUV,u=e.selectedDayWeatherIcon,s=e.selectedDayWeatherSummary,l=e.selectedDayData,d=e.selectedDayMainPollutant,m=e.selectedDayUserTempScale,p=e.selectedDayWeatherScore;return r.a.createElement("section",{id:"schedulerSection"},r.a.createElement(h,null),r.a.createElement("section",{id:"bestDay",className:"column"},r.a.createElement("h2",null,"Best Day"),r.a.createElement("p",null,"Find the best day to run in the next 7 days"),r.a.createElement("label",null,"Find the best day of the week"),r.a.createElement("button",{onClick:this.fetchForcast},"Go"),a?r.a.createElement(v,{airQuality:n,bestDay:t,currentHumidity:c,currentTemp:i,currentUV:o,currentWeatherIcon:u,currentWeatherSummary:s,data:l,mainPollutant:d,userTempScale:m,weatherScore:p}):null),r.a.createElement(P,null))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).calcuateWeatherScoresByDay=function(){for(var e=a.state,t=e.forcastHumidity,n=e.forcastTempHigh,r=e.forcastTempLow,c=e.forcastUV,i=e.forcastPrecipProbability,o=[],u=[],s=0;s<=7;s++){var l=10*t[s],d=(n[s]+r[s])/2,m=(a.tempScale-Math.abs(a.medianTemp-d)/a.stdDevTemp+(a.uvScale-c[s])+l+(a.rainScale-10*i[s]))/4;u.push(d),o.push(m)}a.setState({forcastWeatherScores:o,forcastAveragedTemp:u,isDataRequested:!1,isDataReceived:!0})},a.fetchForcast=function(){var e=a.state,t=e.currentLat,n=e.currentLng;fetch("https://calm-refuge-25215.herokuapp.com/https://api.darksky.net/forecast/".concat(I,"/").concat(t,",").concat(n)).then(function(e){return e.json()}).then(function(e){a.setState({forcastHumidity:e.daily.data.map(function(e){return e.humidity}),forcastPrecipProbability:e.daily.data.map(function(e){return e.precipProbability}),forcastTempHigh:e.daily.data.map(function(e){return e.apparentTemperatureHigh}),forcastTempLow:e.daily.data.map(function(e){return e.apparentTemperatureLow}),forcastUV:e.daily.data.map(function(e){return e.uvIndex}),forcastIsRaning:e.daily.data.map(function(e){return e.precipProbability}),forcastTime:e.daily.data.map(function(e){return e.sunriseTime}),forcastWeatherIcons:e.daily.data.map(function(e){return e.icon}),forcastWeatherSummary:e.daily.data.map(function(e){return e.summary}),isDataRequested:!0}),a.getForcastDayNames(),a.calcuateWeatherScoresByDay()}).catch(function(e){return console.log("fetchForcast error in Scheduler: ".concat(e))})},a.getForcastDayNames=function(){for(var e=a.state.forcastDayNames,t=0;t<7;t++)e[t]=a.days[a.d.getDay()+t]},a.getForcastScores=function(){for(var e=a.state,t=e.forcastHumidity,n=e.forcastAveragedTemp,c=e.forcastUV,i=e.forcastWeatherIcons,o=e.forcastWeatherSummary,u=e.forcastDayNames,s=e.userTempScale,l=e.forcastWeatherScores,d=[],m=[],p=0;p<7;p++)m.push(r.a.createElement(v,{key:p,currentHumidity:t[p],currentTemp:n[p],currentUV:c[p],currentWeatherIcon:i[p],currentWeatherSummary:o[p],forcastDayName:u[p],userTempScale:s,weatherScore:l[p]}));return d.push(m),d},a.d=new Date,a.days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],a.medianTemp=55,a.stdDevTemp=5,a.tempScale=10,a.uvScale=10,a.rainScale=10,a.state={currentDayName:a.days[a.d.getDay()],currentDayIndex:a.d.getDay(),currentLat:38.2527,currentLng:-85.7585,forcastAveragedTemp:[],forcastDayNames:[],forcastHumidity:[],forcastPrecipProbability:[],forcastTempHigh:[],forcastTempLow:[],forcastTime:[],forcastUV:[],forcastWeatherIcons:[],forcastWeatherScores:[],forcastWeatherSummary:[],isDataReceived:!1,isDataRequested:!1,userTempScale:"f"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){this.fetchForcast()}},{key:"render",value:function(){var e=this.state,t=e.isDataRequested,a=e.isDataReceived;return r.a.createElement("section",{id:"forcastSection"},r.a.createElement(h,null),r.a.createElement("section",{id:"sevenDayForcast",className:"column"},r.a.createElement("h2",null,"7 Day Forcast"),t?r.a.createElement("h3",null,"Loading..."):a?r.a.createElement("ul",null,this.getForcastScores()):null),r.a.createElement(P,null))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(d.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{id:"aboutSection"},r.a.createElement(h,null),r.a.createElement("section",{id:"about",className:"column"},r.a.createElement("h2",null,"About"),r.a.createElement("p",null,"Get a rating on weather conditions for outdoor activities"),r.a.createElement("a",{href:"https://jbratcher.github.io/ShouldIRun/",class:"button"},"Demo page")),r.a.createElement(P,null))}}]),t}(n.Component),A=a(55),N=a(57),R=a(56),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function B(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(r.a.createElement(A.a,{basename:"/ShouldIRun"},r.a.createElement(N.a,null,r.a.createElement(R.a,{exact:!0,path:"/",component:C}),r.a.createElement(R.a,{exact:!0,path:"/scheduler",render:function(e){return r.a.createElement(k,e)}}),r.a.createElement(R.a,{exact:!0,path:"/bestday",render:function(e){return r.a.createElement(O,e)}}),r.a.createElement(R.a,{exact:!0,path:"/forcast",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(R.a,{exact:!0,path:"/about",render:function(e){return r.a.createElement(H,e)}}))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/ShouldIRun",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/ShouldIRun","/service-worker.js");F?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):B(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):B(e)})}}()}},[[23,1,2]]]);
//# sourceMappingURL=main.5e85ece9.chunk.js.map